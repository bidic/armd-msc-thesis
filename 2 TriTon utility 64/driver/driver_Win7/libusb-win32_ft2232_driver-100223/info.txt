WHY LIBUSB-WIN32 DRIVERS?
_________________________

Since June/July of 2009 due to alleged GPL license violation OpenOCD cannot be
distributed with support for ftd2xx.dll library. That's why FT2232 JTAGs have to
be used via libusb-win32 drivers, and OpenOCD will be linked with libftdi
library. Because of that OpenOCD users have to use different JTAG drivers. This
small document provides a basic "how to" of libusb-win32 drivers for FT2232
based JTAGs. Users who need OpenOCD linked with ftd2xx.dll can build the
software from sources.

DEVICES SUPPORTED BY THIS DRIVER PACKAGE
________________________________________

The .inf file provided with the driver in that package has entries for most of
existing FT2232 JTAGs. These devices are:
	- Amontec JTAGkey
	- CALAO Systems USB-A9260-C01
	- CALAO Systems USB-A9260-C02
	- egnite Turtelizer 2
	- Hitex Cortino
	- Hitex STM32-PerformanceStick
	- Hitex STR9-comStick
	- Hubert Hoegl's USB to JTAG
	- Joern Kaipf's OOCDLink
	- Kristech usbScarab2
	- Luminary Micro BD-ICDI In-Circuit Debug Interface Board
	- Luminary Micro Stellaris LM3S811 Evaluation Kit
	- Marvel SheevaPlug Development Kit
	- Olimex ARM-USB-OCD
	- Olimex ARM-USB-OCD-H
	- Olimex ARM-USB-TINY
	- Olimex ARM-USB-TINY-H
	- Section5 ICEBear
	- TinCanTools Flyswatter
	- Xverve Signalyzer
	- Xverve Signalyzer H2
	- Xverve Signalyzer H4
	- Xverve Signalyzer Lite

If your device isn't listed above, check the contents of the .inf file for info
about adding new entries.

USAGE INFO
__________

FT2232 is an USB Composite Device, so from the system's point of view it is seen
as two completely separate devices which can have two completely
separate drivers.

Devices which have only JTAG (Amontec JTAGkey, Olimex ARM-USB-TINY, etc.) should
use libusb-win32 drivers for BOTH FT2232 sub-devices - no additional drivers are
required. In those devices the second channel is unused.

Devices which have JTAG and UART/RS-232 on board (egnite Turtelizer 2, Olimex
ARM-USB-OCD, etc.) should use libusb-win32 drivers only for the JTAG channel.
The UART/RS-232 port needs drivers from FTDI, most likely with modified VID/PID
combination - such drivers should be provided by the JTAG vendor.

DRIVER INSTALLATION
___________________

If there were FTDI drivers installed in the system, they have to be manually
removed (via system's Device Manager) and then libusb-win32 drivers have to be
installed manually. In case of "JTAG + UART/RS-232" devices only the driver for
the JTAG channel needs to be removed. In case of "JTAG-only" devices the driver
for the second (unused) channel also can (but doesn't have to) be replaced.

Uninstallation of ftd2xx.dll driver:

When the device is plugged, open the Device Manager (Control Panel > System >
Hardware > Device Manager), right click on the JTAG device (in "Universal Serial
Bus controllers" group) and Uninstall it. Now unplug the JTAG and wait a few
moments.

Installation of libusb-win32 driver:

Plug the device to the USB port of your PC. The system should discover a new
device and the installation wizard should be started. Don't use automatic
methods (as this will probably install the drivers you just removed) - use
"Don't search. I will choose the driver to install" (fully manual mode) instead.
Succesfully installed driver(s) will be displayed in the "LibUSB-Win32 Devices"
group in the Device Manager.

ADDITIONAL SOURCES OF INFORMATION
_________________________________

http://www.google.com/
http://libusb-win32.sourceforge.net/
http://www.intra2net.com/en/developer/libftdi/
http://forum.sparkfun.com/viewforum.php?f=18
http://openocd.berlios.de/ (the mailing list)

http://www.freddiechopin.info/
_______________

version: 091105